# Configuration for a production-like test run
# Uses multi-seed docking and short GPU MD with automatic docking-box centering.

fetch:
  protein:
    # identifier: P08684           # (Optional) lock to a UniProt ID
    target_species_id: 9606        # Homo sapiens
    exp_method: "X-RAY DIFFRACTION"
    max_resolution: 3.0            # Ã…
    required_ligands: ["HEM"]      # ensure a heme-bound structure is picked
  ligand:
    identifier_type: name          # name | cid | smiles | inchikey

prep:
  protein:
    ph: 7.4
    run_pdbfixer: true
    output_suffix: "_fixed_ph7.4"
  ligand:
    ph: 7.4
    charge_method: gasteiger
    force_3d: true
    output_suffix: "_prepared_ph7.4"
  strip_heme: true
  strip_resnames: ["GOL","SO4","EDO","PEG","TRS","ACT","PG4","PO4","CL","NA"]

docking:
  structure_policy: prefer_apo
  blind_mode: false                # keep box mode, but auto-center it
  num_seeds: 5
  poses: 20
  exhaustiveness: 16
  seed: 42
  box:
    # NEW: auto-center the box on the Fe atom of HEM/HEC in the prepared receptor PDB.
    # smina_wrapper will override 'center' at runtime if auto_center == "heme_fe".
    auto_center: heme_fe
    fallback_center: [-15.846, -23.032, -11.293]   # used only if Fe not found
    size: [12.0, 12.0, 12.0]

validation:
  rmsd_gate: 3.0

md:
  temperature: 310
  pressure: 1.0
  length_ns: 10
  water_model: tip3p
  padding: 10.0
  ionic: 0.15

runtime:
  serialize_gpu: true
  cpu_threads: 16

reporting:
  outdir: results/reports_prod
  run_root: results/runs_prod
